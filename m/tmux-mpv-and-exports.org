#+title: Tiny Tangled Configurations

#+begin_src conf :tangle tangled/mpv.conf
volume=50
terminal=no
#+end_src

#+begin_src sh :tangle tangled/profile.d-01-all.sh
# sourcing this file multiple times won't lengthen $PATH
export AL_PATH_FROM_ROOT="${AL_PATH_FROM_ROOT:-"$PATH"}"
AL_PATH_1=~/.local/bin
AL_PATH_2=~/.local/share/nvim/mason/bin
export PATH="$AL_PATH_1:$AL_PATH_2:$AL_PATH_FROM_ROOT"

export EDITOR=nvim
export DEFAULT_TERM=alacritty
#+end_src

#+begin_src conf :tangle tangled/tmux.conf
set -g status-bg blue
set -g status-fg black
set -g status-right "$PWD"
set -g status off

set -g pane-border-style fg=black
set -g pane-active-border-style fg=yellow
set -g pane-active-border-style bg=black

set -g mode-keys emacs
set-option -g prefix C-x
set-option -g detach-on-destroy off

bind-key C-f new-window tmux-fzf-new-session
bind-key C-g set status
bind-key C-r source-file ~/c/c/tmux/tmux.conf

bind-key C-e select-pane -t + \; copy-mode
bind-key -T copy-mode e \
    send-keys -X search-backward '[ew][ra]r[on][ri]' \; \
    send-keys -X copy-line \; \

set escape-time 0
#+end_src

#+begin_src sh :tangle tangled/tmux-fzf-new-session
#!/bin/sh

fzf_pvw="eza -l --color=always ~/l/{}"
p="$(ls ~/l | fzf --preview "$fzf_pvw")" || exit 0
cd -P "$HOME/l/$p"                       || exit 1
tmux new-session -d -s "${PWD##*/}"      || exit 1
tmux switch-client -t "${PWD##*/}"       || exit 1

# I have symlinks in ~/l so that's why cd -P
# The symlink has a long name and the destination a short.
#+end_src
